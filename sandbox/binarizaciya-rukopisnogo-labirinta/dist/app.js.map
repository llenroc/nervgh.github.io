{"version":3,"sources":["webpack:///webpack/bootstrap 566a1fc04297b3f3bc31","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/index.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Decoder.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Reader.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Matrix.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Cell.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Rgba.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Vector2.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/MatrixWalker.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/utils.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Writer.js","webpack:///c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Rectangle.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 566a1fc04297b3f3bc31\n **/","\r\n\r\nimport Decoder from './modules/Decoder';\r\n\r\n\r\nlet {document} = window;\r\nlet image = document.getElementById('original');\r\nlet stage = document.getElementById('stage');\r\n\r\n\r\nlet decoder = new Decoder();\r\n\r\ndecoder.onDecodeComplete = function(matrix, pointerSize) {\r\n    console.log('pointerSize', pointerSize);\r\n\r\n    decoder.writer.writeAsCanvas(matrix, stage);\r\n\r\n    let context = stage.getContext('2d');\r\n    context.beginPath();\r\n    context.arc(46, 18, pointerSize >> 1, 0, 2 * Math.PI);\r\n    context.strokeStyle = 'rgb(255,0,255)';\r\n    context.stroke();\r\n    context.fillStyle = 'rgb(255,0,255)';\r\n    context.fill();\r\n    context.closePath();\r\n};\r\n\r\ndecoder.decode(image);\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/index.js\n **/","'use strict';\r\n\r\n\r\nimport Reader from './Reader';\r\nimport Writer from './Writer';\r\nimport {randomItems} from './utils';\r\nimport Rectangle from './Rectangle';\r\n\r\n\r\nexport default class Decoder {\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n        this.reader = new Reader();\r\n        this.writer = new Writer();\r\n        this.reader.onReadComplete = this.__onReadComplete.bind(this);\r\n        this.__matrix = undefined;\r\n        this.__pointerSize = undefined;\r\n    }\r\n    /**\r\n     * @returns {Number}\r\n     */\r\n    get pointerSize() {\r\n        return this.__pointerSize;\r\n    }\r\n    /**\r\n     * @param {HTMLImageElement} image\r\n     */\r\n    decode(image) {\r\n        this.reader.readAsMatrix(image);\r\n    }\r\n    /**\r\n     * Callback\r\n     * @param {Matrix} matrix\r\n     * @param {Number} pointerSize\r\n     */\r\n    onDecodeComplete(matrix, pointerSize) {\r\n    }\r\n    /**\r\n     * @param {HTMLImageElement} image\r\n     * @param {Matrix} matrix\r\n     * @private\r\n     */\r\n    __onReadComplete(image, matrix) {\r\n        matrix.normalize();\r\n        let pointerSize = this.__getPointerSize(matrix);\r\n        this.__matrix = matrix;\r\n        this.__pointerSize = pointerSize;\r\n        this.onDecodeComplete(matrix, pointerSize);\r\n    }\r\n    /**\r\n     * @param {Matrix} matrix\r\n     * @returns {Number}\r\n     * @private\r\n     */\r\n    __getPointerSize(matrix) {\r\n        let blackCells = matrix.toArray().filter(cell => cell.rgba.isBlack());\r\n        let randomCells = randomItems(blackCells, Math.floor(blackCells.length * 0.01));\r\n        let rectangles = randomCells.map(cell => this.__expandCell(matrix, cell));\r\n\r\n        let sizes = [];\r\n\r\n        rectangles.forEach(rectangle => {\r\n            let {width, height} = rectangle;\r\n            sizes.push(width, height);\r\n        });\r\n\r\n        sizes.sort((a, b) => a - b);\r\n        sizes = sizes.filter(value => value > 0);\r\n\r\n        let middle = Math.floor(sizes.length / 3);\r\n\r\n        return sizes[middle];\r\n    }\r\n    /**\r\n     * @param {Matrix} matrix\r\n     * @param {Cell} cell\r\n     * @returns {Rectangle}\r\n     * @private\r\n     */\r\n    __expandCell(matrix, cell) {\r\n        let {width, height} = matrix;\r\n        let limit = Math.min(width, height) >> 4;\r\n\r\n        let walker1 = matrix.createWalker(cell);\r\n        let walker2 = matrix.createWalker(cell);\r\n        let walker3 = matrix.createWalker(cell);\r\n        let walker4 = matrix.createWalker(cell);\r\n\r\n        let preventStep = cell => !cell.rgba.isBlack();\r\n\r\n        for(let i = 0; i <= limit; i++) {\r\n            walker1.moveUp(preventStep);\r\n            walker2.moveRight(preventStep);\r\n            walker3.moveDown(preventStep);\r\n            walker4.moveLeft(preventStep);\r\n        }\r\n\r\n        let rectangle = new Rectangle(\r\n            walker1.vector.clone(),\r\n            walker2.vector.clone(),\r\n            walker3.vector.clone(),\r\n            walker4.vector.clone()\r\n        );\r\n\r\n        return rectangle;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Decoder.js\n **/","'use strict';\r\n\r\n\r\nimport Matrix from './Matrix';\r\n\r\n\r\nlet {document} = window;\r\n\r\n\r\nexport default class Reader {\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n    }\r\n    /**\r\n     * @param {HTMLImageElement} image\r\n     */\r\n    readAsMatrix(image) {\r\n        let temp = new Image();\r\n        temp.onload = this.__readAsMatrix.bind(this, image);\r\n        temp.src = image.src;\r\n    }\r\n    /**\r\n     * @param {HTMLImageElement} elementImage\r\n     * @private\r\n     */\r\n    __readAsMatrix(elementImage) {\r\n        let imageData = this.__getImageData(elementImage);\r\n        let matrix = new Matrix(imageData);\r\n        this.onReadComplete(elementImage, matrix);\r\n    }\r\n    /**\r\n     * @param {HTMLImageElement} elementImage\r\n     * @returns {ImageData}\r\n     * @private\r\n     */\r\n    __getImageData(elementImage) {\r\n        let {clientWidth, clientHeight, naturalWidth, naturalHeight} = elementImage;\r\n        let elementCanvas = document.createElement('canvas');\r\n        let context = elementCanvas.getContext('2d');\r\n        // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\r\n        elementCanvas.setAttribute('width', clientWidth);\r\n        elementCanvas.setAttribute('height', clientHeight);\r\n        context.drawImage(elementImage, 0, 0, naturalWidth, naturalHeight, 0, 0, clientWidth, clientHeight);\r\n\r\n        // http://xiper.net/manuals/canvas/2D-api/getImageData\r\n        let imageData = context.getImageData(0, 0, clientWidth, clientHeight);\r\n\r\n        return imageData;\r\n    }\r\n    /**\r\n     * Callback\r\n     * @param {HTMLImageElement} image\r\n     * @param {Matrix} matrix\r\n     */\r\n    onReadComplete(image, matrix) {\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Reader.js\n **/","'use strict';\r\n\r\n\r\nimport Cell from './Cell';\r\nimport Rgba from './Rgba';\r\nimport Vector2 from './Vector2';\r\nimport MatrixWalker from './MatrixWalker';\r\n\r\n\r\nexport default class Matrix {\r\n    /**\r\n     * @param {*} any\r\n     */\r\n    constructor(any) {\r\n        let {width, height, data} = Matrix.factory(any);\r\n        this.width = width;\r\n        this.height = height;\r\n        this.data = data;\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    destroy() {\r\n        let {data} = this;\r\n        data.length = 0;\r\n    }\r\n    /**\r\n     * @returns {Matrix}\r\n     */\r\n    clone() {\r\n        return new Matrix(this);\r\n    }\r\n    /**\r\n     * @param {Cell} [cell]\r\n     * @returns {MatrixWalker}\r\n     */\r\n    createWalker(cell = this.data[0][0]) {\r\n        let {vector} = cell;\r\n        return new MatrixWalker(this, vector.clone());\r\n    }\r\n    /**\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @returns {Cell}\r\n     */\r\n    getCellByCoordinates(x, y) {\r\n        let {data} = this;\r\n        return data[y][x];\r\n    }\r\n    /**\r\n     * @param {Vector2} vector\r\n     * @returns {*}\r\n     */\r\n    getCellByVector(vector) {\r\n        let {x, y} = vector;\r\n        return this.getCellByCoordinates(x, y);\r\n    }\r\n    /**\r\n     * @param {Function} cb\r\n     */\r\n    forEach(cb) {\r\n        let {width, height, data} = this;\r\n        for(let i = 0; i < height; i++) {\r\n            for(let j = 0; j < width; j++) {\r\n                let cell = data[i][j];\r\n                cb(cell);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param {Rectangle} rectangle\r\n     * @param {Function} cb\r\n     */\r\n    forEachRectangle(rectangle, cb) {\r\n        let {top, right, bottom, left} = rectangle;\r\n        let {data} = this;\r\n        for(let i = top.y; i <= bottom.y; i++) {\r\n            for(let j = left.x; j <= right.x; j++) {\r\n                let cell = data[i][j];\r\n                cb(cell);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    normalize() {\r\n        const full = 255;\r\n        const half = full / 2;\r\n        let modify = (cell) => {\r\n            let {rgba} = cell;\r\n            let {red, green, blue} = rgba;\r\n            red = red < half ? 0 : full;\r\n            green = green < half ? 0 : full;\r\n            blue = blue < half ? 0 : full;\r\n            let color = (red + green + blue) < full ? 0 : full;\r\n            rgba.red = rgba.green = rgba.blue = color;\r\n        };\r\n        this.forEach(modify);\r\n    }\r\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas#Grayscaling_and_inverting_colors\r\n     */\r\n    invert() {\r\n        const MAX = 255;\r\n        let modify = (cell) => {\r\n            let {rgba} = cell;\r\n            let {red, green, blue} = rgba;\r\n            rgba.red = MAX - red;\r\n            rgba.green = MAX - green;\r\n            rgba.blue = MAX - blue;\r\n        };\r\n        this.forEach(modify);\r\n    }\r\n    /**\r\n     * @see http://jscience.org/experimental/javadoc/org/jscience/computing/ai/vision/GreyscaleFilter.html\r\n     * @see http://www.johndcook.com/blog/2009/08/24/algorithms-convert-color-grayscale/\r\n     * @see http://www.had2know.com/technology/rgb-to-gray-scale-converter.html\r\n     */\r\n    greyscale() {\r\n        const R = 0.299;\r\n        const G = 0.587;\r\n        const B = 0.114;\r\n        let modify = (cell) => {\r\n            let {rgba} = cell;\r\n            let {red, green, blue} = rgba;\r\n            let grey = Math.round(red * R + green * G + blue * B);\r\n            rgba.red = rgba.green = rgba.blue = grey;\r\n        };\r\n        this.forEach(modify);\r\n    }\r\n    /**\r\n     * @returns {ImageData}\r\n     */\r\n    toImageData() {\r\n        const STEP = 4;\r\n        let {width, height} = this;\r\n        let array = new Uint8ClampedArray(width * height * STEP);\r\n        let c0 = 0; // counter\r\n        let c1 = 1; // counter\r\n        let c2 = 2; // counter\r\n        let c3 = 3; // counter\r\n        let callback = (cell) => {\r\n            let {rgba} = cell;\r\n            let {red, green, blue, alpha} = rgba;\r\n            array[c0] = red;\r\n            array[c1] = green;\r\n            array[c2] = blue;\r\n            array[c3] = alpha;\r\n            c0 += STEP;\r\n            c1 += STEP;\r\n            c2 += STEP;\r\n            c3 += STEP;\r\n        };\r\n        this.forEach(callback);\r\n        return new ImageData(array, width, height);\r\n    }\r\n    /**\r\n     * @returns {Array}\r\n     */\r\n    toArray() {\r\n        let {width, height} = this;\r\n        let array = new Array(width * height);\r\n        let counter = 0;\r\n        let callback = (cell) => {\r\n            array[counter] = cell;\r\n            counter += 1;\r\n        };\r\n        this.forEach(callback);\r\n        return array;\r\n    }\r\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas\r\n     * @param {ImageData} imageData\r\n     * @returns {Object}\r\n     */\r\n    static fromImageData(imageData) {\r\n        const STEP = 4;\r\n        let {width, height, data} = imageData;\r\n        let c0 = 0; // counter\r\n        let c1 = 1; // counter\r\n        let c2 = 2; // counter\r\n        let c3 = 3; // counter\r\n        let rows = new Array(height);\r\n        for(let i = 0; i < height; i++) {\r\n            let cells = new Array(width);\r\n            for(let j = 0; j < width; j++) {\r\n                let rgba = new Rgba(data[c0], data[c1], data[c2], data[c3]);\r\n                let vector = new Vector2(j, i);\r\n                cells[j] = new Cell(rgba, vector);\r\n                c0 += STEP;\r\n                c1 += STEP;\r\n                c2 += STEP;\r\n                c3 += STEP;\r\n            }\r\n            rows[i] = cells;\r\n        }\r\n        return {\r\n            width,\r\n            height,\r\n            data: rows\r\n        };\r\n    }\r\n    /**\r\n     * @param {Matrix} matrix\r\n     * @returns {Object}\r\n     */\r\n    static fromMatrix(matrix) {\r\n        let {width, height, data} = matrix;\r\n        let rows = new Array(height);\r\n        for(let i = 0; i < height; i++) {\r\n            let row = new Array(width);\r\n            for(let j = 0; j < width; j++) {\r\n                let cell = data[i][j];\r\n                row[j] = cell.clone();\r\n            }\r\n            rows[i] = row;\r\n        }\r\n        return {\r\n            width,\r\n            height,\r\n            data: rows\r\n        };\r\n    }\r\n    /**\r\n     * @param {*} data\r\n     * @returns {*}\r\n     */\r\n    static factory(data) {\r\n        if (data instanceof ImageData) {\r\n            return Matrix.fromImageData(data);\r\n        } else if (data instanceof Matrix) {\r\n            return Matrix.fromMatrix(data);\r\n        } else {\r\n            throw new TypeError(`This type not supported.\r\n            Matrix may be created only from {ImageData} or another {Matrix}.`);\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Matrix.js\n **/","'use strict';\r\n\r\n\r\nexport default class Cell {\r\n    /**\r\n     * @param {Rgba} rgba\r\n     * @param {Vector2} vector\r\n     */\r\n    constructor(rgba, vector) {\r\n        this.rgba = rgba;\r\n        this.vector = vector;\r\n    }\r\n    /**\r\n     * @returns {Cell}\r\n     */\r\n    clone() {\r\n        let {rgba, vector} = this;\r\n        return new Cell(rgba.clone(), vector.clone());\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Cell.js\n **/","'use strict';\r\n\r\n\r\nexport default class Rgba {\r\n    /**\r\n     * @param {Number} red\r\n     * @param {Number} green\r\n     * @param {Number} blue\r\n     * @param {Number} alpha\r\n     */\r\n    constructor(red = 255, green = 255, blue = 255, alpha = 255) {\r\n        this.red = red;\r\n        this.green = green;\r\n        this.blue = blue;\r\n        this.alpha = alpha;\r\n    }\r\n    /**\r\n     * @returns {Boolean}\r\n     */\r\n    isBlack() {\r\n        const color = 0;\r\n        return this.is(color, color, color);\r\n    }\r\n    /**\r\n     * @returns {Boolean}\r\n     */\r\n    isWhite() {\r\n        const color = 255;\r\n        return this.is(color, color, color);\r\n    }\r\n    /**\r\n     * @param {Number} red\r\n     * @param {Number} green\r\n     * @param {Number} blue\r\n     * @param {Number} alpha\r\n     * @returns {Boolean}\r\n     */\r\n    is(red = 255, green = 255, blue = 255, alpha = 255) {\r\n        return this.red === red &&\r\n                    this.green === green &&\r\n                    this.blue === blue &&\r\n                    this.alpha === alpha;\r\n    }\r\n    /**\r\n     * @returns {Rgba}\r\n     */\r\n    clone() {\r\n        let {red, green, blue, alpha} = this;\r\n        return new Rgba(red, green, blue, alpha);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Rgba.js\n **/","'use strict';\r\n\r\n\r\nexport default class Vector2 {\r\n    /**\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     */\r\n    constructor(x = 0, y = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    /**\r\n     * @returns {Vector2}\r\n     */\r\n    clone() {\r\n        let {x, y} = this;\r\n        return new Vector2(x, y);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Vector2.js\n **/","'use strict';\r\n\r\n\r\nimport Vector2 from './Vector2';\r\nimport {noOperation} from './utils';\r\n\r\n\r\nexport default class MatrixWalker {\r\n    /**\r\n     * @param {Matrix} matrix\r\n     * @param {Vector2} [vector]\r\n     */\r\n    constructor(matrix, vector = new Vector2()) {\r\n        this.__matrix = matrix;\r\n        this.__vector = vector;\r\n    }\r\n    /**\r\n     * @returns {Matrix}\r\n     */\r\n    get matrix() {\r\n        return this.__matrix;\r\n    }\r\n    /**\r\n     * @returns {Vector2}\r\n     */\r\n    get vector() {\r\n        return this.__vector;\r\n    }\r\n    /**\r\n     * @param {Function} [preventStep]\r\n     */\r\n    moveUp(preventStep = noOperation) {\r\n        let {vector} = this;\r\n        let {x, y} = vector;\r\n        this.jumpTo(x, y - 1, preventStep);\r\n    }\r\n    /**\r\n     * @param {Function} [preventStep]\r\n     */\r\n    moveRight(preventStep = noOperation) {\r\n        let {vector} = this;\r\n        let {x, y} = vector;\r\n        this.jumpTo(x + 1, y, preventStep);\r\n    }\r\n    /**\r\n     * @param {Function} [preventStep]\r\n     */\r\n    moveDown(preventStep = noOperation) {\r\n        let {vector} = this;\r\n        let {x, y} = vector;\r\n        this.jumpTo(x, y + 1, preventStep);\r\n    }\r\n    /**\r\n     * @param {Function} [preventStep]\r\n     */\r\n    moveLeft(preventStep = noOperation) {\r\n        let {vector} = this;\r\n        let {x, y} = vector;\r\n        this.jumpTo(x - 1, y, preventStep);\r\n    }\r\n    /**\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @param {Function} [preventStep]\r\n     */\r\n    jumpTo(x, y, preventStep = noOperation) {\r\n        let {vector} = this;\r\n        x = this.__fixX(x);\r\n        y = this.__fixY(y);\r\n        if (this.__testPrevent(x, y, preventStep)) return;\r\n        vector.x = x;\r\n        vector.y = y;\r\n    }\r\n    /**\r\n     * @param {Number} x\r\n     * @returns {Number}\r\n     * @private\r\n     */\r\n    __fixX(x) {\r\n        let {matrix} = this;\r\n        let {width} = matrix;\r\n        x = Math.min(x, width - 1);\r\n        x = Math.max(x, 0);\r\n        return x;\r\n    }\r\n    /**\r\n     * @param {Number} y\r\n     * @returns {Number}\r\n     * @private\r\n     */\r\n    __fixY(y) {\r\n        let {matrix} = this;\r\n        let {height} = matrix;\r\n        y = Math.min(y, height - 1);\r\n        y = Math.max(y, 0);\r\n        return y;\r\n    }\r\n    /**\r\n     * @param {Number} x\r\n     * @param {Number} y\r\n     * @param {Function} preventFunction\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    __testPrevent(x, y, preventFunction) {\r\n        let {matrix} = this;\r\n        let cell = matrix.getCellByCoordinates(x, y);\r\n        return preventFunction(cell);\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/MatrixWalker.js\n **/","'use strict';\r\n\r\n\r\n/**\r\n * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math/random#Examples\r\n * @see https://learn.javascript.ru/number#���������-�����-��-min-��-max\r\n * @param {Number} min\r\n * @param {Number} max\r\n * @returns {Number}\r\n */\r\nexport function randomInteger(min, max) {\r\n    return Math.floor(Math.random() * (max + 1 - min)) + min;\r\n}\r\n/**\r\n * @param {Array} array\r\n * @param {Number} count\r\n * @returns {Array}\r\n */\r\nexport function randomItems(array, count) {\r\n    let stack = new Array(count);\r\n    let max = array.length - 1;\r\n    for(let index = 0; index < count; index++, max--) {\r\n        let randomIndex = randomInteger(0, max);\r\n        stack[index] = array[randomIndex];\r\n    }\r\n    return stack;\r\n}\r\n/**\r\n * @returns {undefined}\r\n */\r\nexport function noOperation() {\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/utils.js\n **/","'use strict';\r\n\r\n\r\nexport default class Writer {\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n    }\r\n    /**\r\n     * @param {Matrix} matrix\r\n     * @param {HTMLCanvasElement} elementCanvas\r\n     */\r\n    writeAsCanvas(matrix, elementCanvas) {\r\n        let context = elementCanvas.getContext('2d');\r\n        let imageData = matrix.toImageData();\r\n        var {width, height} = imageData;\r\n        elementCanvas.setAttribute('width', width);\r\n        elementCanvas.setAttribute('height', height);\r\n        context.putImageData(imageData, 0, 0);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Writer.js\n **/","'use strict';\r\n\r\n\r\nimport Vector2 from './Vector2';\r\n\r\n\r\nexport default class Rectangle {\r\n    /**\r\n     * @param {Vector2} top\r\n     * @param {Vector2} right\r\n     * @param {Vector2} bottom\r\n     * @param {Vector2} left\r\n     */\r\n    constructor(top, right, bottom, left) {\r\n        this.top = top;\r\n        this.right = right;\r\n        this.bottom = bottom;\r\n        this.left = left;\r\n    }\r\n    /**\r\n     * @returns {Number}\r\n     */\r\n    get width() {\r\n        let {right, left} = this;\r\n        return right.x - left.x;\r\n    }\r\n    /**\r\n     * @returns {Number}\r\n     */\r\n    get height() {\r\n        let {bottom, top} = this;\r\n        return bottom.y - top.y;\r\n    }\r\n    /**\r\n     * @returns {Rectangle}\r\n     */\r\n    clone() {\r\n        let {top, right, bottom, left} = this;\r\n        return new Rectangle(top.clone(), right.clone(), bottom.clone(), left.clone());\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** c:/OpenServer/domains/nervgh.io/sandbox/binarizaciya-rukopisnogo-labirinta/src/modules/Rectangle.js\n **/"],"sourceRoot":""}